{"version":3,"sources":["Legend.js","Optionsfield.js","Map.js","App.js","index.js"],"names":["Legend","props","react_default","a","createElement","Fragment","className","active","name","description","stops","map","stop","i","key","style","backgroundColor","concat","toLocaleString","Optionsfield","options","option","onChange","changeState","checked","property","type","mapboxgl","workerClass","require","default","accessToken","Map","mapContainerRef","useRef","_useState","useState","_useState2","Object","slicedToArray","setActive","_useState3","_useState4","setMap","useEffect","container","current","center","zoom","on","addSource","url","addLayer","id","source","source-layer","maxzoom","layout","fill-opacity","setPaintProperty","remove","paint","ref","src_Legend","src_Optionsfield","App","src_Map_0","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.50d7890b.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Legend = (props) => {\n  const renderLegendKeys = (stop, i) => {\n    return (\n      <div key={i} className=\"txt-s\">\n        <span\n          className=\"mr6 round-full w12 h12 inline-block align-middle\"\n          style={{ backgroundColor: stop[1] }}\n        />\n        <span>{`${stop[0].toLocaleString()}`}</span>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <div className=\"bg-white absolute bottom right mr12 mb24 py12 px12 shadow-darken10 round z1 wmax180\">\n        <div className=\"mb6\">\n          <h2 className=\"txt-bold txt-s block\">{props.active.name}</h2>\n          <p className=\"txt-s color-gray\">{props.active.description}</p>\n        </div>\n        {props.stops.map(renderLegendKeys)}\n      </div>\n    </>\n  );\n};\n\nexport default Legend;\n","import React from \"react\";\n\nconst Optionsfield = (props) => {\n  const renderOptions = (option, i) => {\n    return (\n      <label key={i} className=\"toggle-container\">\n        <input\n          onChange={() => props.changeState(i)}\n          checked={option.property === props.property}\n          name=\"toggle\"\n          type=\"radio\"\n        />\n        <div className=\"toggle txt-s py3 toggle--active-white\">\n          {option.name}\n        </div>\n      </label>\n    );\n  };\n  return (\n    <div className=\"toggle-group absolute top left ml12 mt12 border border--2 border--white bg-white shadow-darken10 z1\">\n      {props.options.map(renderOptions)}\n    </div>\n  );\n};\n\nexport default Optionsfield;\n","import React, {useRef, useEffect, useState} from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport Legend from './Legend';\nimport Optionsfield from './Optionsfield';\nimport './Map.css';\n\n// The following is required to stop \"npm build\" from transpiling mapbox code.\n// notice the exclamation point in the import.\n// @ts-ignore\n// eslint-disable-next-line import/no-webpack-loader-syntax, import/no-unresolved\nmapboxgl.workerClass = require('worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker').default;\n\nmapboxgl.accessToken =\n    'pk.eyJ1IjoibnRob21hczA4MCIsImEiOiJjbDBiamR5OTQweHBpM2tudDNmaGdoaDY1In0.eMj44xj8R2n8OGpee6Vv9w';\n\nconst Map = () => {\n    const options = [\n        {\n            name: 'Isolation',\n            description: '',\n            property: 'Isolation',\n            stops: [\n                [0, '#F2F12D'],\n                [0.055, '#EED322'],\n                [0.11, '#E6B71E'],\n                [0.165, '#DA9C20'],\n                [0.22, '#CA8323'],\n                [0.275, '#B86B25'],\n                [0.33, '#A25626'],\n                [0.385, '#9a4f32'],\n                [0.44, '#8f340f'],\n                [0.495, '#651c00'],\n                [0.55, '#4b1806']\n            ]\n        },\n        {\n            name: 'Divergence',\n            description: '',\n            property: 'Divergence',\n            stops: [\n                [0, '#F2F12D'],\n                [0.055, '#EED322'],\n                [0.11, '#E6B71E'],\n                [0.165, '#DA9C20'],\n                [0.22, '#CA8323'],\n                [0.275, '#B86B25'],\n                [0.33, '#A25626'],\n                [0.385, '#9a4f32'],\n                [0.44, '#8f340f'],\n                [0.495, '#651c00'],\n                [0.55, '#4b1806']\n            ]\n        }\n    ];\n\n    const mapContainerRef = useRef(null);\n    const [active, setActive] = useState(options[0]);\n    const [map, setMap] = useState(null);\n\n    // Initialize map when component mounts\n    useEffect(() => {\n        const map = new mapboxgl.Map({\n            container: mapContainerRef.current,\n            style: 'mapbox://styles/mapbox/streets-v11',\n            center: [-98, 38.88],\n            zoom: 3\n        });\n\n        map.on('load', () => {\n\n            map.addSource('tracts', {\n                'type': 'vector',\n                'url': 'mapbox://nthomas080.tl_2020_us_tract-FINAL'\n            });\n\n            map.addSource('counties', {\n                'type': 'vector',\n                'url': 'mapbox://nthomas080.b3lysq15'\n            });\n\n            map.addSource('states', {\n                'type': 'vector',\n                'url': 'mapbox://nthomas080.7f7so0a1'\n            });\n\n            map.addLayer(\n                {\n                    'id': 'states',\n                    'source': 'states',\n                    'source-layer': 'tl_2020_us_state-FINAL-bffxgb',\n                    'type': 'fill',\n                    'maxzoom': 7,\n                    'layout': {},\n                    'fill-opacity': 0.9\n                }\n            );\n\n            map.setPaintProperty('states', 'fill-color', {\n                property: active.property,\n                stops: active.stops\n            });\n\n            map.setPaintProperty('states', 'fill-opacity', 0.75)\n\n            setMap(map);\n        });\n        // Clean up on unmount\n        return () => map.remove();\n    }, []);\n\n    useEffect(() => {\n        paint();\n    }, [active]);\n\n    const paint = () => {\n        if (map) {\n            map.setPaintProperty('states', 'fill-color', {\n                property: active.property,\n                stops: active.stops\n            });\n        }\n    };\n\n    const changeState = i => {\n        setActive(options[i]);\n        map.setPaintProperty('states', 'fill-color', {\n            property: active.property,\n            stops: active.stops\n        });\n    };\n\n    return (\n        <div>\n            <div ref={mapContainerRef} className='map-container'/>\n            <Legend active={active} stops={active.stops}/>\n            <Optionsfield\n                options={options}\n                property={active.property}\n                changeState={changeState}\n            />\n        </div>\n    );\n};\n\nexport default Map;\n","import React from 'react';\nimport Map from './Map';\n\nfunction App() {\n  return (\n    <div>\n      <Map />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}